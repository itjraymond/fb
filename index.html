<!DOCTYPE html>
<html lang="en">
	<head>

		<!--[if lt IE 9]>
		    <script src="js/html5shiv/html5shiv.js"></script>
		<![endif]--> 


		<title>ΛΊΠΟΣ</title>
		<link rel="icon" href="obj/black.png">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				background-color: #000000;
				margin: 0px;
				overflow: hidden;
				font-family:Monospace;
				font-size:13px;
				text-align:center;
				font-weight: bold;
				text-align:center;
			}

			a {
				color:#444;
			}

			#info {
				color: #444;
				position: absolute;
				bottom: 13px; width: 100%;
				padding: 5px;
				z-index: 100;
			}

			h1 {
			  text-align: center;
			  font-family: Monospace;
			  color: #06D85F;
			  margin: 80px 0;
			}

			.overlay {
			  position: fixed;
			  top: 0;
			  bottom: 0;
			  left: 0;
			  right: 0;
			  background: rgba(0, 0, 0, 0.75);
			  transition: opacity 500ms;
			  visibility: hidden;
			  opacity: 0;
			}
			.overlay:target {
			  visibility: visible;
			  opacity: 1;
			}

			.popup {
			  margin: 300px auto;
			  position:absolute;
			  padding: 20px;
			  background: #000;
			  border-radius: 0px;
			  outline-color:#444;	
   			  outline-style:dashed;
   			  outline-width: 1px;
			  width: 20%;
			  position: relative;
			  transition: all 5s ease-in-out;
			}

			.popup h2 {
			  margin-top: 0;
			  color: #333;
			  font-size:16px;
			  font-family: helvetica;
			}
			.popup .close {
			  position: absolute;
			  top: 20px;
			  right: 30px;
			  transition: all 200ms;
			  font-size: 13px;
			  font-weight: bold;
			  text-decoration: none;
			  color: #333;
			}
			.popup .close:hover {
			  color: #b2b2b2;
			}
			.popup .content {
			  max-height: 30%;
			  overflow: auto;
			}

			@media screen and (max-width: 700px){
			  .box{
			    width: 70%;
			  }
			  .popup{
			    width: 70%;
			  }
			}
		</style>
	</head>
	<body>

		<div id="info">
			<div class="box">
				<a class="button" href="#popup1">Σ</a> - info
			</div>

			<div id="popup1" class="overlay">
				<div class="popup">
					<h2>πληροφορίες</h2>
					<a class="close" href="#">&times;</a>
					<div class="content">
						Araneose γρήγορα spheral Naga κριτής granitification σκούντημα υπολογίσιμη reperceived Perdue καθαρτικό nontolerated menuki Elva. Βρασμένα φασόλια μετ 'αραβόσιτο Montefiascone μόσχος paulinistic φελούκα laryngological vallation Christchurch megagamete αντιπαράθεση πνευμονιόκοκκους κουρά προβάτων orientalised εμπλέκονται. Polyanthuses dandriffy dyspepsy vibrationless bioelectrogenesis stowp ting σύμπτωση easer supportless Hubble Λέστε housebroke Πατριαρχείο. Gabbroic sesamoid diyarbekir λευκόρροια αναψυχής αποσπώμενα διασπάσεις συλλογή κοινότητα dahoon αιφνιδίως ωθών Magog inexpugnability burgoo. Μπύρες rightable Πλούτος Βιομαγνητισμό γκι θείωσης succinctoria ηβηφρένεια brotherlike αντιπαθητικός bandsaw φραγκοστάφυλου haloing οδοντωτά.
					</div>
				</div>
			</div>
		</div>

		<div class="object f1">
             <audio autoplay="true" loop>
                  <source src="sounds/filler.mp3" type="audio/mpeg">
            </audio> 
        </div>

		<script src="js/three.js"></script>

		<script src="js/loaders/DDSLoader.js"></script>
		<script src="js/loaders/MTLLoader.js"></script>
		<script src="js/loaders/OBJLoader.js"></script>

		<script src="js/Detector.js"></script>
		<script src="js/libs/stats.min.js"></script>

		<script>

			if ( ! Detector.webgl ) Detector.addGetWebGLMessage();

			var container, stats;
			var camera, scene, renderer, particles, geometry, materials = [], parameters, i, h, color, size;
			var mouseX = 0, mouseY = 0;

			var windowHalfX = window.innerWidth / 2;
			var windowHalfY = window.innerHeight / 2;

			init();
			animate();

			function init() {

				//scene setup

				container = document.createElement( 'div' );
				document.body.appendChild( container );

				camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 1, 3000 );
				camera.position.z = 1000;

				scene = new THREE.Scene();
				scene.fog = new THREE.FogExp2( 0x000000, 0.0007 );



				geometry = new THREE.Geometry();

				//lights

				var ambient = new THREE.AmbientLight( 0x444444 );
				scene.add( ambient );

				var directionalLight = new THREE.DirectionalLight( 0xffffff );
				directionalLight.position.set( 0, 0.5, 0.1 ).normalize();
				scene.add( directionalLight );

				var directionalLight = new THREE.DirectionalLight( 0x262626 );
				directionalLight.position.set( 0, -0.5, 0 ).normalize();
				scene.add( directionalLight );

				for ( i = 0; i < 20000; i ++ ) {

					var vertex = new THREE.Vector3();
					vertex.x = Math.random() * 2000 - 1000;
					vertex.y = Math.random() * 9000 - 1000;
					vertex.z = Math.random() * 18000 - 1000;

					geometry.vertices.push( vertex );

				}

				parameters = [
					[ [0, 0, 0], 0.5 ],
					[ [0, 0, 0], 0.4 ],
					[ [0, 0, 0], 0.3 ],
					[ [0, 0, 0], 0.2 ],
					[ [1, 0, 1], 0.1 ]
				];

				for ( i = 0; i < parameters.length; i ++ ) {

					color = parameters[i][0];
					size  = parameters[i][1];

					materials[i] = new THREE.PointsMaterial( { size: size } );

					particles = new THREE.Points( geometry, materials[i] );

					particles.rotation.x = Math.random() * 6;
					particles.rotation.y = Math.random() * 6;
					particles.rotation.z = Math.random() * 6;

					scene.add( particles );

				}

				//models

				var onProgress = function ( xhr ) {
					if ( xhr.lengthComputable ) {
						var percentComplete = xhr.loaded / xhr.total * 100;
						console.log( Math.round(percentComplete, 2) + '% downloaded' );
					}
				};

				var onError = function ( xhr ) { };

				THREE.Loader.Handlers.add( /\.dds$/i, new THREE.DDSLoader() );

				var mtlLoader = new THREE.MTLLoader();
				mtlLoader.setPath( 'obj/' );
				mtlLoader.load( '1.mtl', function( materials ) {

					materials.preload();

					var objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'obj/' );

					objLoader.load( '1.obj', function ( object ) {

						object.position.y = 0;
				

						object.scale.set(0.3,0.3,0.3);
						scene.add( object );

					}, onProgress, onError );

				});

				THREE.Loader.Handlers.add( /\.dds$/i, new THREE.DDSLoader() );

				var mtlLoader = new THREE.MTLLoader();
				mtlLoader.setPath( 'obj/' );
				mtlLoader.load( '2.mtl', function( materials ) {

					materials.preload();

					var objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'obj/' );

					objLoader.load( '2.obj', function ( object ) {

						object.position.y = 0;


						object.scale.set(0.3,0.3,0.3);
						scene.add( object );

					}, onProgress, onError );
					
				});

				THREE.Loader.Handlers.add( /\.dds$/i, new THREE.DDSLoader() );

				var mtlLoader = new THREE.MTLLoader();
				mtlLoader.setPath( 'obj/greek/' );
				mtlLoader.load( 'greek5.mtl', function( materials ) {

					materials.preload();

					var objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'obj/greek/' );
					objLoader.load( 'greek4.obj', function ( object ) {

						object.position.y = 110;
						object.position.z = -900;
						

						object.scale.set(0.14,0.14,0.14);
						scene.add( object );

					}, onProgress, onError );

				});

				THREE.Loader.Handlers.add( /\.dds$/i, new THREE.DDSLoader() );

				var mtlLoader = new THREE.MTLLoader();
				mtlLoader.setPath( 'obj/greek/' );
				mtlLoader.load( 'greek5.mtl', function( materials ) {

					materials.preload();

					var objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'obj/greek/' );
					objLoader.load( 'greek4.obj', function ( object ) {

						object.position.y = 0;
						object.position.z = 150;
						

						object.scale.set(0.15,0.15,0.15);
						scene.add( object );

					}, onProgress, onError );

				});

				THREE.Loader.Handlers.add( /\.dds$/i, new THREE.DDSLoader() );

				var mtlLoader = new THREE.MTLLoader();
				mtlLoader.setPath( 'obj/greek/' );
				mtlLoader.load( 'greek5.mtl', function( materials ) {

					materials.preload();

					var objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'obj/greek/' );
					objLoader.load( 'greek4.obj', function ( object ) {

						object.position.y = 100;
						object.position.z = 50;
						object.position.x = 500;
						

						object.scale.set(0.11,0.11,0.11);
						scene.add( object );

					}, onProgress, onError );
					
				});

				THREE.Loader.Handlers.add( /\.dds$/i, new THREE.DDSLoader() );

				var mtlLoader = new THREE.MTLLoader();
				mtlLoader.setPath( 'obj/greek/' );
				mtlLoader.load( 'greek5.mtl', function( materials ) {

					materials.preload();

					var objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'obj/greek/' );
					objLoader.load( 'greek4.obj', function ( object ) {

						object.position.y = -100;
						object.position.z = 50;
						object.position.x = -500;
						

						object.scale.set(0.11,0.11,0.11);
						scene.add( object );

					}, onProgress, onError );	

				});


				// background plane

				var plane = new THREE.Mesh( new THREE.PlaneGeometry( 10000, 10000 ), new THREE.MeshBasicMaterial( { transparent: true, opacity: 0.11, color:0x000000 } ) );
				plane.position.z = -500;
				scene.add( plane );



				renderer = new THREE.WebGLRenderer({antialias:true,preserveDrawingBuffer:true});
				renderer.autoClearColor = false;
				renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( window.innerWidth, window.innerHeight );
				container.appendChild( renderer.domElement );

				//stats = new Stats();
				//container.appendChild( stats.dom );

				document.addEventListener( 'mousemove', onDocumentMouseMove, false );
				document.addEventListener( 'touchstart', onDocumentTouchStart, false );
				document.addEventListener( 'touchmove', onDocumentTouchMove, false );


				window.addEventListener( 'resize', onWindowResize, false );

			}



			function onWindowResize() {

				windowHalfX = window.innerWidth / 2;
				windowHalfY = window.innerHeight / 2;

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize( window.innerWidth, window.innerHeight );

			}

			function onDocumentMouseMove( event ) {

				mouseX = event.clientX - windowHalfX;
				mouseY = event.clientY - windowHalfY;

			}

			function onDocumentTouchStart( event ) {

				if ( event.touches.length === 1 ) {

					event.preventDefault();

					mouseX = event.touches[ 0 ].pageX - windowHalfX;
					mouseY = event.touches[ 0 ].pageY - windowHalfY;

				}

			}

			function onDocumentTouchMove( event ) {

				if ( event.touches.length === 1 ) {

					event.preventDefault();

					mouseX = event.touches[ 0 ].pageX - windowHalfX;
					mouseY = event.touches[ 0 ].pageY - windowHalfY;

				}

			}

			//renders

			function animate() {

				requestAnimationFrame( animate );

				render();
				//stats.update();

			}

			function render() {

				var time = Date.now() * 0.00005;
				var timer = Date.now() * 0.00030;

				camera.position.x += ( 0.5*Math.sin( timer ) * mouseX - camera.position.x ) * 0.05;
				camera.position.y += ( 0.5*Math.cos( timer ) *- mouseY - camera.position.y ) * 0.05;

				camera.lookAt( scene.position );

				for ( i = 0; i < scene.children.length; i ++ ) {
					var object = scene.children[ i ];
					if ( object instanceof THREE.Points ) {
						object.rotation.y = time * ( i < 4 ? i + 1 : - ( i + 1 ) );
					}
				}

				for ( i = 0; i < materials.length; i ++ ) {
					color = parameters[i][0];
					h = ( 0 * ( color[0] + time ) % 360 ) / 360;
					materials[i].color.setHSL( h, color[1], color[2] );
				}

				renderer.render( scene, camera );

			}
		</script>
	</body>
</html>
